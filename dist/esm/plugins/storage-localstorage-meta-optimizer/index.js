import{INTERNAL_STORE_SCHEMA_TITLE as t}from"rxdb/plugins/core";import{checkVersion as e}from"../../plugins/shared/version-check.js";import{getRxStorageLocalstorage as r}from"./rx-storage-localstorage.js";import{RXDB_PREMIUM_VERSION as o}from"../shared/rxdb-premium-version.js";var a=r();export function getLocalstorageMetaOptimizerRxStorage(t){return new RxStorageLocalstorageMetaOptimized(t)}export var RxStorageLocalstorageMetaOptimized=function(){function r(t){this.name="localstorage-meta-optimized",this.rxdbVersion=o,this.settings=t}return r.prototype.createStorageInstance=async function(r){return e(),r.schema.title===t?a.createStorageInstance(r):this.settings.storage.createStorageInstance(r)},r}();