import{DEFAULT_DOC_JSON_POSITION_SIZE as o}from"../storage-abstract-filesystem/helpers.js";import{getRxStorageAbstractFilesystem as t}from"../storage-abstract-filesystem/index.js";import{MainThreadOPFSFilesystem as e}from"./main-thread-filesystem.js";import{WorkerOPFSFilesystem as s}from"./worker-filesystem.js";export var RX_STORAGE_NAME_OPFS="opfs";export function getRxStorageOPFS(e={}){return t({name:RX_STORAGE_NAME_OPFS,abstractFilesystem:new s,abstractLock:navigator.locks,jsonPositionSize:e.jsonPositionSize?e.jsonPositionSize:o,inWorker:!e.usesRxDatabaseInWorker})}export function getRxStorageOPFSMainThread(s={}){return t({name:RX_STORAGE_NAME_OPFS,abstractFilesystem:new e,abstractLock:navigator.locks,jsonPositionSize:s.jsonPositionSize?s.jsonPositionSize:o,inWorker:!1})}