export var MainThreadOPFSFilesystem=function(){function e(){this.opfsRootPromise=navigator.storage.getDirectory()}return e.prototype.getDirectory=async function(){var e=await this.opfsRootPromise;return new MainThreadOPFSFilesystemDirectory(e)},e}();export var MainThreadOPFSFilesystemDirectory=function(){function e(e){this.baseDir=e}var t=e.prototype;return t.getDirectoryHandle=async function(t,i){return new e(await this.baseDir.getDirectoryHandle(t,i))},t.getFileHandle=async function(e,t){var i=await this.baseDir.getFileHandle(e,t);return new MainThreadOPFSFilesystemFileHandle(e,i)},t.removeEntry=function(e){return this.baseDir.removeEntry(e)},e}();export var MainThreadOPFSFilesystemFileHandle=function(){function e(e,t){this.name=e,this.fileHandle=t}return e.prototype.createAccessHandle=async function(){return new MainThreadOPFSFilesystemFileSyncAccessHandle(this)},e}();export var MainThreadOPFSFilesystemFileSyncAccessHandle=function(){function e(e){this.fileHandle=e,this.filePromise=this.fileHandle.fileHandle.getFile()}var t=e.prototype;return t.getWritable=async function(){var e=await this.fileHandle.fileHandle.createWritable({keepExistingData:!0});return new MainThreadOPFSFilesystemWritable(this,e)},t.read=async function(e,t){var i=this.file;i||(i=await this.filePromise,this.file=i);var a=i.slice(e,t),n=await a.arrayBuffer();return new Uint8Array(n)},t.truncate=async function(e){var t=await this.fileHandle.fileHandle.createWritable({keepExistingData:!0});await t.truncate(e),await t.close()},t.getSize=async function(){return(await this.fileHandle.fileHandle.getFile()).size},t.close=function(){},e}();export var MainThreadOPFSFilesystemWritable=function(){function e(e,t){this.accessHandle=e,this.writable=t}var t=e.prototype;return t.write=async function(e,t){await this.writable.write({data:e,position:t.at,type:"write"});var i=this.writable.close();this.accessHandle.file=void 0,this.accessHandle.filePromise=i.then((()=>this.accessHandle.fileHandle.fileHandle.getFile())),await i},t.close=function(){this.writable.close()},e}();