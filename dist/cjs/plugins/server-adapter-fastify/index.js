var e=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.RxServerAdapterFastify=void 0;var s=e(require("fastify")),t=e(require("@fastify/cors"));exports.RxServerAdapterFastify={create:async()=>(0,s.default)({}),setCors(e,s,r){e.register(t.default,{origin:r,optionsSuccessStatus:200})},getRequestBody:e=>e.body,getRequestHeaders:e=>e.headers,getRequestQuery:e=>e.query,onRequestClose(e,s){e.raw.on("close",(()=>{s()}))},setResponseHeader(e,s,t){e.header(s,t)},responseWrite(e,s){e.raw.write(s)},endResponseJson(e,s){e.code(200).send(s)},endResponse(e){e.raw.end()},async closeConnection(e,s,t){var r={code:s,error:!0,message:t};e.code(s).send(r)},setSSEHeaders(e){e.raw.writeHead(200,{"Content-Type":"text/event-stream; charset=utf-8",Connection:"keep-alive","Cache-Control":"no-cache","X-Accel-Buffering":"no"}),e.raw.flushHeaders()},get(e,s,t){e.get(s,t)},post(e,s,t){e.post(s,t)},all(e,s,t){e.all(s,t)},async listen(e,s,t){await e.listen({port:s,host:t})},async close(e){await e.server.closeAllConnections(),await e.close()},async closeAllConnections(e){await e.server.closeAllConnections()}};