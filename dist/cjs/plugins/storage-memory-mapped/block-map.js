Object.defineProperty(exports,"__esModule",{value:!0}),exports.BlockMap=void 0;var e=require("rxdb/plugins/core");exports.BlockMap=function(){function t(){this.map=new Map,this.cleanup=new Map}var a=t.prototype;return a.addCleanup=function(t,a){(0,e.getFromMapOrCreate)(this.cleanup,a,(()=>new Set)).add(t)},a.add=function(e,t){this.map.set(e,t)},a.set=function(t,a){var r=this.map.get(t);return this.map.set(t,a),void 0===r||((0,e.getFromMapOrCreate)(this.cleanup,r,(()=>new Set)).add(t),!1)},t}();