Object.defineProperty(exports,"__esModule",{value:!0}),exports.getShardIndex=e,exports.hashStringToNumber=t,exports.mergeSortedArray=n,exports.prepareShardingQuery=i;var r=require("rxdb/plugins/core");function e(r,e){return t(e)%r}function t(r){for(var e=0,t=r.length,n=0;n<t;n++)e+=r.charCodeAt(n),e|=0;return e}function n(e,t,n){if(0===e.length)return t.slice(0);if(0===t.length)return e.slice(0);for(var i=[],o=0,p=0;o<e.length&&p<t.length;)n(e[o],t[p])>0?i.push(t[p++]):i.push(e[o++]);return p<t.length?(0,r.appendToArray)(i,t.slice(p)):(0,r.appendToArray)(i,e.slice(o)),i}function i(e,t){t=(0,r.flatClone)(t);var n=(0,r.clone)(t);return t.skip=0,t.limit&&(t.limit=t.limit+n.skip),{originalQuery:n,parentPreparedQuery:(0,r.prepareQuery)(e,t)}}