Object.defineProperty(exports,"__esModule",{value:!0}),exports.findDocumentsByIds=a,exports.findDocumentsByIdsInternal=s;var e=require("rxdb/plugins/core"),t=require("./task-queue.js"),n=require("./documents-file.js"),r=require("./helpers.js");async function a(a,s,u,i){var o=await a.internals.statePromise;if(0===(0,r.getTotalDocumentCount)(o))return"[]";for(var l=(0,t.getAccessHandle)(o.documentFileHandle,i),c=(0,e.ensureNotFalsy)(o.indexStates[0].metaIdMap),d=[],g=s.length,f=0;f<g;f++){var m=s[f],p=c.get(m);p&&(u||"0"===p[0][0])&&d.push(p)}if(0===d.length)return"[]";var v=await l;return await(0,n.getDocumentsJsonString)(o,v,i,d)}async function s(a,s,u){var i=new Map,o=await a.internals.statePromise;if(0===(0,r.getTotalDocumentCount)(o))return i;for(var l=(0,t.getAccessHandle)(o.documentFileHandle,u),c=(0,e.ensureNotFalsy)(o.indexStates[0].metaIdMap),d=[],g=s.length,f=0;f<g;f++){var m=s[f],p=c.get(m);p&&d.push(p)}if(0===d.length)return i;for(var v=await l,h=await(0,n.getDocumentsJson)(o,v,u,d),w=d.length,y=0;y<w;y++){var x=h[y],D=d[y][1];i.set(D,x)}return i}