Object.defineProperty(exports,"__esModule",{value:!0}),exports.indexedDBFindByIds=e,exports.indexedDBFindByIdsInternal=n;var r=require("rxdb/plugins/core");function e(e,n,s){var o=n.length;if(0===o)return Promise.resolve([]);for(var a=new Array,t=0;t<o;t++){var u=n[t];a.push(e.get(u))}var v=[],i=(0,r.ensureNotFalsy)((0,r.lastOfArray)(a));return new Promise(((r,e)=>{i.onerror=e,i.onsuccess=()=>{for(var e=0;e<o;e++){var n=a[e].result;if(n){var t=n.d;!s&&t._deleted||v.push(t)}}r(v)}}))}function n(e,n,s){var o=s.length,a=new Map;if(0===o)return Promise.resolve(a);for(var t=new Array(o),u=0;u<o;u++){var v=s[u].document[e],i=n.get(v);t[u]=i}var d=(0,r.ensureNotFalsy)((0,r.lastOfArray)(t));return new Promise(((r,n)=>{d.onerror=n,d.onsuccess=()=>{for(var n=0;n<o;n++){var s=t[n].result;if(s){var u=s.d,v=u[e];a.set(v,u)}}r(a)}}))}