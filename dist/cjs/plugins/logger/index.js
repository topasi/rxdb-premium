Object.defineProperty(exports,"__esModule",{value:!0}),exports.DEFAULT_LOGGER_SETTINGS=void 0,exports.wrappedLoggerStorage=n;var e=require("rxdb/plugins/core"),t=exports.DEFAULT_LOGGER_SETTINGS={prefix:void 0,times:!0,metaStorageInstances:!0,bulkWrite:!0,findDocumentsById:!0,query:!0,count:!0,info:!0,getAttachmentData:!0,getChangedDocumentsSince:!0,cleanup:!0,close:!0,remove:!0};function n(n){var a=Object.assign({},t,n.settings?n.settings:{}),o=["RxDB",n.storage.name,a.prefix].filter((e=>!!e)).join(".");return Object.assign({},n.storage,{async createStorageInstance(t){var r=await n.storage.createStorageInstance(t);if(!a.metaStorageInstances&&(t.schema.title===e.INTERNAL_STORE_SCHEMA_TITLE||t.schema.title===e.META_INSTANCE_SCHEMA_TITLE))return r;async function s(s,i,c){if(!a[s])return await r[s](...i);var l="instance:"+t.databaseInstanceToken+"_opId:"+(0,e.randomCouchString)(8),m=[o,t.databaseName,t.collectionName].join(".")+"."+s+"("+c+") "+l;n.onOperationStart&&n.onOperationStart(s,m,i),a.times&&console.time(m);try{return await r[s](...i)}catch(e){throw console.error(m+": ERROR: "+e.name),n.onOperationError&&n.onOperationError(s,m,i,e),e}finally{a.times&&console.timeEnd(m),n.onOperationEnd&&n.onOperationEnd(s,m,i)}}return{databaseName:r.databaseName,collectionName:r.collectionName,internals:r.internals,options:r.options,schema:r.schema,bulkWrite:(e,t)=>s("bulkWrite",[e,t],e.length.toString()),findDocumentsById:(e,t)=>s("findDocumentsById",[e,t],e.length.toString()),query:e=>s("query",[e],""),count:e=>s("count",[e],""),getAttachmentData:(e,t,n)=>s("getAttachmentData",[e,t,n],""),getChangedDocumentsSince:r.getChangedDocumentsSince?(e,t)=>s("getChangedDocumentsSince",[e,t],""):void 0,cleanup:e=>s("cleanup",[e],""),close:()=>s("close",[],""),remove:()=>s("remove",[],""),changeStream:()=>r.changeStream(),conflictResultionTasks:()=>r.conflictResultionTasks(),resolveConflictResultionTask:e=>r.resolveConflictResultionTask(e)}}})}